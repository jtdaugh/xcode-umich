<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>C++ Development in XCode</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>C++ in XCode</h1>
        <h2>Tips for C++ development in XCode. Tuned to the needs of many classes at Michigan.</h2>
        <!-- <a href="https://github.com/jtdaugh/xcode-umich" class="button"><small>View project on</small>GitHub</a> -->
        <img class="block-m" src="images/block_m.png"/>
        <!-- <div style="clear:both;"/> -->
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h2>CONTENTS</h2>
          <ol>
            <li><a href="#1">Creating the Project</a></li>
            <li><a href="#2">Command Line Arguments</a></li>
            <li><a href="#3">Input Redirection - stdin</a></li>
            <li><a href="#4">Input and Output files - fstream</a></li>
            <li><a href="#5">Debugging</a></li>
            <li><a href="#6">Editing Schemes</a></li>
            <li><a href="#7">Source Control</a></li>
          </ol>


          <h2 id="1">Creating the Project</h2>
          <p>After opening XCode, go to File->New->Project</p>
          <img src="images/MenuBar.png"/>
          <p>In the OS X section, select 'Application' and then select the 'Command Line Tool' option. Then Press Next</p>
          <img src="images/ZoomedType.png">
          <p>Name your project and set it's 'Type' to C++</p>
          <img src="images/ZoomedTitle.png">
          <p>On the next screen select where you your project will be saved and remember to check 'Create local git repository for this project'</p>
          <img src="images/GitCheck.png">
          
          
          <h2 id="2">Command Line Arguments</h2>
          <p>Many projects will require your program to accept several command line arguments. 
            Let's use an example where we have three arguments, arg1, arg2 and arg3. 
            If you ran the excecutable from the command line, it would look something like this:
          </p>
          <code>
            ./project1 arg1 arg2 arg3
          </code>
          <p>
            Sidenote: <code>./project1 arg1 arg2 arg3 < infile.txt</code> Here, infile.txt is NOT a command line argument visible to the program. 
            It is a redirection to stdin, and is discussed in the next section.
          </p>
          <p> Anyway... To add these three arguments in XCode, go to Project->Edit Scheme</p>
          <img src="images/args1.png">
          <p>...or click on the project name right next to the Run Button.</p>
          <img src="images/args2.png">
          <p>This window will pop up. If you see something different, make sure you have selected 'Run' on the left, and 'Arguments' on top</p>
          <img src="images/args3.png">
          <p>Add whatever arguments you need in the 'Arguments Passed on Launch' box, and click okay. In this case, we add arg1, arg2 and arg3.</p>
          <img src="images/args4.png">
          <p>Voila, you will now have these three arguments acessible to you as argv[1], 2 and 3.</p>


          <h2 id="3">Input Redirection - stdin</h2>
            <p>Let's say your project spec wants you just read input from cin, something like this:</p>
            <code> ./myExecutable < inputFile.txt </code>
          </p>
          <p>There is no straightforward way to do this in XCode, but there is a somewhat simple workaround. First, run your project and make sure it outputs "Hello, World!" to the Xcode Console. Then to add your input file, right click on your executable name in the 'Products' group in the XCode Project Navigator and select 'Show In Finder' 
          </p>
          <img src="images/ShowInFinder.png" alt="fuckyouandrew.com">
          <p>Put your input text file in the same directory as your executable (this way XCode can find it when it is running your program)
          </p>
          <p>Next go to Project->Edit Scheme and add an environment variable with the value of your text file name
          </p>
          <img src="images/EnvironmentVar.png">
          <p>Finally, in your main function (before you do any input processing) add the following:</br> <code> ifstream arq(getenv("MYARQ"));</br>
            cin.rdbuf(arq.rdbuf());</code>
          </p>
          <p>Now cin will behave the same as if you redirected the contents of a text file to a program, as seen above
          </p>
          <p><b>REMEMBER TO COMMENT THIS CODE OUT OR DELETE IT BEFORE YOU SUBMIT OR TEST ON CAEN, INPUT WILL NOT WORK IF THIS CODE IS STILL THERE</b>
          </p>
          

          <h2 id="4">Input and Output files - fstream</h2>
           <p>Using ifstream and ofstream is pretty simple in XCode, and there are (at least) two methods to do so. Here's an example that uses an ifstream. It will copy the contents from file1.txt to file2.txt:</p>
           
           <pre>
ifstream infile("file1.txt");
ofstream outfile("file2.txt");
string temp;
while (!infile.eof()) {
  getline(infile,temp);
  outfile << temp;
}</pre>

          <h4>Option 1</h4>
          <p>The first option is to place the file(s) into the products directory where the excecutable is.
            <br>Right click on the products directory and click Show in Finder. Put your input files in there, and find your output files there after running.</p>
          <img src="images/ShowInFinder.png" alt="fuckyouandrew.com">
          
          <h4>Option 2</h4>
          <p>Another option is to create the input files right within XCode and then modify 'Copy Files' in the Build Phase. This is a more complicated one-time setup, but will then allow you to edit the input file right within XCode.
            <br>First, create a new empty file in XCode via File->New->File (or skip this and drag a file into XCode).</p>
          <p>Then, click on the project name right above your list of files. Go to the Build Phases tab, and you'll see this:</p>
          <img src="images/fstream3.png">
          <p>Add your input file to the copy files section. Make sure that 'Products Directory' is the Destination, subpath is empty, and 'Copy only when installing' is unchecked. <small>You may notice a project1.1 as a copy file. Feel free to remove that.</p>
          <img src="images/fstream4.png">
          <p>You're all set. Modify the input file in XCode, and it will copy it into the products directory when you Run. The output file will be in the products directory like in Option 1.</p>
          

          <h2 id="5">Debugging</h2>
          <p>Yolo ipsum atque ullam but seeing my family have it all harum delectus quo. 
            Eos minus eveniet odio corporis id ea. 
            Optio placeat fuckin' right, all right so you cry still, 
            tears all in the pillow case excepturi optio tempore.
          </p>
          <p>Dolore accusantium they lovin the crew rerum explicabo blanditiis omnis. 
            Labore do you love this shit? temporibus est doloremque aut alias. 
            Et aliquid recusandae laboriosam rem quia aut. 
            Dicta neque similique quos consectetur illum dolores.
          </p>
          <p>Eius exercitationem quidem ipsam aohhh, that's how you feel man? 
            cause we blowin like a c4. Quod saepe in qui doloribus eum. 
            Sunt eum ullam odit amet exercitationem they lovin the crew neque. 
            Qui sed enim consequuntur illum laboriosam voluptatem.
          </p>
          

          <h2 id="6">Editing Schemes</h2>
          <p>Yolo ipsum atque ullam but seeing my family have it all harum delectus quo. 
            Eos minus eveniet odio corporis id ea. 
            Optio placeat fuckin' right, all right so you cry still, 
            tears all in the pillow case excepturi optio tempore.
          </p>
          <p>Dolore accusantium they lovin the crew rerum explicabo blanditiis omnis. 
            Labore do you love this shit? temporibus est doloremque aut alias. 
            Et aliquid recusandae laboriosam rem quia aut. 
            Dicta neque similique quos consectetur illum dolores.
          </p>
          <p>Eius exercitationem quidem ipsam aohhh, that's how you feel man? 
            cause we blowin like a c4. Quod saepe in qui doloribus eum. 
            Sunt eum ullam odit amet exercitationem they lovin the crew neque. 
            Qui sed enim consequuntur illum laboriosam voluptatem.
          </p>


          <h2 id="7">Source Control</h2>
            <p>As long as you checked the 'Create local git repository' back in step 1, if you change or add something in a file, that file should show up Modified in XCode, as seen by the 'M' to the right of the file name
          </p>
          <img src="images/GitModified.png"/>
          <p>Let's say we want to commit this change, we can do this two ways. The first being through the GUI of XCode. First, right click on the modified file, and then select Source Control->Commit Selected Files.
          </p>
          <img src="images/CommitMenu.png"/>
          <p> Then a screen with the diff of the previous commit and your soon to be new commit will appear, add a commit message at the bottom and then select the 'Commit X Files' button to commit the changes 
          </p>
          <img src="images/AcutalCommit.png"/>
          <p>You can also do this through using the command line: Make a change to a file in your project, it will show up as Modified in XCode, then on the command line, go to the path of your project. If you type <code> git status</code> you should see that the file you changed is listed as modified. 
          </p>
          <p>To commit the file, simply type <code> git commit -am "My commit message"</code> and this will automatically commit any tracked files (in this case, just our modified file)
          </p>
          <p>To add files to your git repo, in XCode, add a new file simply with File->New File. An 'A' should show up next to your new file, showing it has been added since the last commit. To commit through XCode use the same steps from above: Right click file->Source Control->Commit Selected Files, and then write your commit message and commit.
          </p>
          <img src="images/GitAdded.png"/>
          <p>To add a file to your git repo on the command line, simply type <code> git add mynewfile.h </code> and then when you type <code> git status </code> the newly added file should show up as added. Then simply write, as seen above, <code> git commit -am "My commit message: Commiting my new file"</code> and your newly added file will be commited.
          </p>
          <hr>
        </section>

        <aside id="sidebar">
          
          <p class="side-header">Some other great C++ and UMich CS Links:</p>
          <p><a class="button" href="http://ryngonzalez.github.io/OptionHandler/" target="_blank">A cleaner solution for handling command line arguments.</a></p> 
          <p><a class="button" href="http://ottosipe.github.io/git-notes/" target="_blank">Setting up private git repos on CAEN.</a></p> 
          <p><a class="button" href="http://shoulditake381.com" target="_blank">Debating whether to take EECS 381?</a></p> 

          <br/><br/>
          <p>Created by <a href="https://github.com/jtdaugh" target="_blank">Jesse Daugherty</a> and <a href="http://github.com/CEWendel" target="_blank">Chris Wendel</a></p>
          <p>Last Updated for Xcode 4.5.2</p>
          <p><a class="button" href="#" target="_blank">Download a sample project featuring these tips.</a></p> 

        </aside>
      </div>
    </div>
  
  </body>
</html>